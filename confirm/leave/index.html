<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Metrocare Product</title>

    <!-- iOS (optional) -->
    <meta
      name="apple-itunes-app"
      content="app-id=6479005021, app-argument=metrocare://product"
    />

    <!-- Android -->
    <link
      rel="alternate"
      href="android-app://com.mmchospital.metrocare/metrocare/product"
    />

    <script>
      window.onload = function () {
        const userAgent = navigator.userAgent || navigator.vendor || window.opera;

        // Ambil ID dari hash (#)
        const id = window.location.hash.replace("#", "") || "default";

        const deepLink = `metrocare://product/${id}`;
        const playStoreUrl = "https://play.google.com/store/apps/details?id=com.mmchospital.metrocare";

        // Coba buka aplikasi
        window.location = deepLink;

        // Fallback ke Play Store
        setTimeout(() => {
          if (/android/i.test(userAgent)) {
            window.location = playStoreUrl;
          } else {
            document.getElementById("fallback").style.display = "block";
          }
        }, 1000);
      };
    </script>
  </head>
  <body>
    <h2>Membuka aplikasi Metrocare...</h2>
    <p id="fallback" style="display: none">
      Aplikasi tidak terbuka?
      <a href="https://play.google.com/store/apps/details?id=com.mmchospital.metrocare">Klik di sini</a>
    </p>
  </body>
</html>
